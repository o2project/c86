[[git-merge]]

=== 別のブランチでの作業内容を取り込む

別ブランチの作業内容を現在のブランチに取り込みます。例えるならば、世界線を収束させるコマンドです。

鈴羽を引き止めた世界線で作業をした結果、鈴羽がタイムトラベルに失敗し「失敗した失敗した失敗した失敗した失敗した」と何度も書いた手紙を書き残し自殺してしまいました。その結果、岡部は天王寺裕吾からその鈴羽が書いた手紙を受け取ることになります。

image::ch3/git-merge-before.jpg[鈴羽を引き止めた世界線でいくつか作業をした例, 360]

そんなできごとを無かったことにするため、世界線を変動させ、鈴羽を引き止めないようにします。そのためにまず「秋葉原から萌えが消えた世界線」のブランチへ移動します。

image::ch3/git-merge-branch-change.jpg[秋葉原から萌えが消えた世界線に移動した, 360]

移動した結果、Dメールを送った状態が最新の状態となっています。ここから「鈴羽を引き止めた世界線」でおこなってきた作業を「秋葉原から萌えが消えた世界線」に統合します。方法としては、統合したいブランチを右クリックして「"統合するブランチ名" を "統合させたいブランチ名" へマージ」を選択します。

image::ch3/git-merge-select.jpg[マージ対象のブランチを選択している状態, 360]

選択すると、確認メッセージが表示されるので「確認する」を押します。

image::ch3/git-merge-confirm.jpg[マージする際の確認メッセージ, 360]

すると「秋葉原から萌えが消えた世界線」に「鈴羽を引き止めた世界線」でおこなってきた作業履歴が統合された状態になります。

image::ch3/git-merge-uncommit.jpg[マージした後の状態, 360]

ただし、まだコミットはしていない状態なのでコミットをします。ここではコミットメッセージを「尾行は中止前のメールはSERNの罠というメールを送信した」としています。

image::ch3/git-merge-commit-message.jpg[マージした際のコミットメッセージを書いている状態, 360]

コミットが完了しました。このようにDメールを送るように、ブランチ同士を統合することができます。

image::ch3/git-merge-after.jpg[マージが完了した状態, 360]
